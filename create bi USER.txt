
  
 grant execute on  RTPS_REPORTS.RTPS_ENQUIRIES to TIBCOUSER;
 grant execute on  SDU.RTPS_ENQUIRIES to TIBCOUSER;
 
  

   CREATE USER "PKANIU" IDENTIFIED BY VALUES 'S:D2CDCC88CB5728B7A59324FF9DBD032AF66223410D0158CAF303C0A36F56;T:78586B8DD2752F6C9D7153577326BDBF2C89081E9887D9039D92DDD36D0EEE788606646BEDABF3C6050674C692AED3F2CF085251537D662ABCFBC83C2C3EC8079C6C8C6741B195DE64484D46114377E3;12B06B09E789D752'
      DEFAULT TABLESPACE "USERS"
      TEMPORARY TABLESPACE "TEMP"
      PROFILE "END_USER_PROFILE";


DECLARE
  TEMP_COUNT NUMBER;
  SQLSTR VARCHAR2(200);
BEGIN
  SQLSTR := 'ALTER USER "PKANIU" QUOTA UNLIMITED ON "BPER_COPKBI_TBS"';
  EXECUTE IMMEDIATE SQLSTR;
EXCEPTION
  WHEN OTHERS THEN
    IF SQLCODE = -30041 THEN
      SQLSTR := 'SELECT COUNT(*) FROM USER_TABLESPACES
              WHERE TABLESPACE_NAME = ''BPER_COPKBI_TBS'' AND CONTENTS = ''TEMPORARY''';
      EXECUTE IMMEDIATE SQLSTR INTO TEMP_COUNT;
      IF TEMP_COUNT = 1 THEN RETURN;
      ELSE RAISE;
      END IF;
    ELSE
      RAISE;
    END IF;
END;
/
DECLARE
  TEMP_COUNT NUMBER;
  SQLSTR VARCHAR2(200);
BEGIN
  SQLSTR := 'ALTER USER "PKANIU" QUOTA UNLIMITED ON "COOP_EDW_TBS"';
  EXECUTE IMMEDIATE SQLSTR;
EXCEPTION
  WHEN OTHERS THEN
    IF SQLCODE = -30041 THEN
      SQLSTR := 'SELECT COUNT(*) FROM USER_TABLESPACES
              WHERE TABLESPACE_NAME = ''COOP_EDW_TBS'' AND CONTENTS = ''TEMPORARY''';
      EXECUTE IMMEDIATE SQLSTR INTO TEMP_COUNT;
      IF TEMP_COUNT = 1 THEN RETURN;
      ELSE RAISE;
      END IF;
    ELSE
      RAISE;
    END IF;
END;
/
DECLARE
  TEMP_COUNT NUMBER;
  SQLSTR VARCHAR2(200);
BEGIN
  SQLSTR := 'ALTER USER "PKANIU" QUOTA UNLIMITED ON "COOP_ODS_TBS"';
  EXECUTE IMMEDIATE SQLSTR;
EXCEPTION
  WHEN OTHERS THEN
    IF SQLCODE = -30041 THEN
      SQLSTR := 'SELECT COUNT(*) FROM USER_TABLESPACES
              WHERE TABLESPACE_NAME = ''COOP_ODS_TBS'' AND CONTENTS = ''TEMPORARY''';
      EXECUTE IMMEDIATE SQLSTR INTO TEMP_COUNT;
      IF TEMP_COUNT = 1 THEN RETURN;
      ELSE RAISE;
      END IF;
    ELSE
      RAISE;
    END IF;
END;
/
DECLARE
  TEMP_COUNT NUMBER;
  SQLSTR VARCHAR2(200);
BEGIN
  SQLSTR := 'ALTER USER "PKANIU" QUOTA UNLIMITED ON "COOP_SA_TBS"';
  EXECUTE IMMEDIATE SQLSTR;
EXCEPTION
  WHEN OTHERS THEN
    IF SQLCODE = -30041 THEN
      SQLSTR := 'SELECT COUNT(*) FROM USER_TABLESPACES
              WHERE TABLESPACE_NAME = ''COOP_SA_TBS'' AND CONTENTS = ''TEMPORARY''';
      EXECUTE IMMEDIATE SQLSTR INTO TEMP_COUNT;
      IF TEMP_COUNT = 1 THEN RETURN;
      ELSE RAISE;
      END IF;
    ELSE
      RAISE;
    END IF;
END;
/
DECLARE
  TEMP_COUNT NUMBER;
  SQLSTR VARCHAR2(200);
BEGIN
  SQLSTR := 'ALTER USER "PKANIU" QUOTA UNLIMITED ON "COPBI_EDW_TBS"';
  EXECUTE IMMEDIATE SQLSTR;
EXCEPTION
  WHEN OTHERS THEN
    IF SQLCODE = -30041 THEN
      SQLSTR := 'SELECT COUNT(*) FROM USER_TABLESPACES
              WHERE TABLESPACE_NAME = ''COPBI_EDW_TBS'' AND CONTENTS = ''TEMPORARY''';
      EXECUTE IMMEDIATE SQLSTR INTO TEMP_COUNT;
      IF TEMP_COUNT = 1 THEN RETURN;
      ELSE RAISE;
      END IF;
    ELSE
      RAISE;
    END IF;
END;
/
DECLARE
  TEMP_COUNT NUMBER;
  SQLSTR VARCHAR2(200);
BEGIN
  SQLSTR := 'ALTER USER "PKANIU" QUOTA UNLIMITED ON "COPK_DMD_TS"';
  EXECUTE IMMEDIATE SQLSTR;
EXCEPTION
  WHEN OTHERS THEN
    IF SQLCODE = -30041 THEN
      SQLSTR := 'SELECT COUNT(*) FROM USER_TABLESPACES
              WHERE TABLESPACE_NAME = ''COPK_DMD_TS'' AND CONTENTS = ''TEMPORARY''';
      EXECUTE IMMEDIATE SQLSTR INTO TEMP_COUNT;
      IF TEMP_COUNT = 1 THEN RETURN;
      ELSE RAISE;
      END IF;
    ELSE
      RAISE;
    END IF;
END;
/
DECLARE
  TEMP_COUNT NUMBER;
  SQLSTR VARCHAR2(200);
BEGIN
  SQLSTR := 'ALTER USER "PKANIU" QUOTA UNLIMITED ON "COPK_STG_TS"';
  EXECUTE IMMEDIATE SQLSTR;
EXCEPTION
  WHEN OTHERS THEN
    IF SQLCODE = -30041 THEN
      SQLSTR := 'SELECT COUNT(*) FROM USER_TABLESPACES
              WHERE TABLESPACE_NAME = ''COPK_STG_TS'' AND CONTENTS = ''TEMPORARY''';
      EXECUTE IMMEDIATE SQLSTR INTO TEMP_COUNT;
      IF TEMP_COUNT = 1 THEN RETURN;
      ELSE RAISE;
      END IF;
    ELSE
      RAISE;
    END IF;
END;
/
DECLARE
  TEMP_COUNT NUMBER;
  SQLSTR VARCHAR2(200);
BEGIN
  SQLSTR := 'ALTER USER "PKANIU" QUOTA UNLIMITED ON "DATA_SG_TBS"';
  EXECUTE IMMEDIATE SQLSTR;
EXCEPTION
  WHEN OTHERS THEN
    IF SQLCODE = -30041 THEN
      SQLSTR := 'SELECT COUNT(*) FROM USER_TABLESPACES
              WHERE TABLESPACE_NAME = ''DATA_SG_TBS'' AND CONTENTS = ''TEMPORARY''';
      EXECUTE IMMEDIATE SQLSTR INTO TEMP_COUNT;
      IF TEMP_COUNT = 1 THEN RETURN;
      ELSE RAISE;
      END IF;
    ELSE
      RAISE;
    END IF;
END;
/
DECLARE
  TEMP_COUNT NUMBER;
  SQLSTR VARCHAR2(200);
BEGIN
  SQLSTR := 'ALTER USER "PKANIU" QUOTA UNLIMITED ON "DMTBS1"';
  EXECUTE IMMEDIATE SQLSTR;
EXCEPTION
  WHEN OTHERS THEN
    IF SQLCODE = -30041 THEN
      SQLSTR := 'SELECT COUNT(*) FROM USER_TABLESPACES
              WHERE TABLESPACE_NAME = ''DMTBS1'' AND CONTENTS = ''TEMPORARY''';
      EXECUTE IMMEDIATE SQLSTR INTO TEMP_COUNT;
      IF TEMP_COUNT = 1 THEN RETURN;
      ELSE RAISE;
      END IF;
    ELSE
      RAISE;
    END IF;
END;
/
DECLARE
  TEMP_COUNT NUMBER;
  SQLSTR VARCHAR2(200);
BEGIN
  SQLSTR := 'ALTER USER "PKANIU" QUOTA UNLIMITED ON "MDR_COPKBI_TBS"';
  EXECUTE IMMEDIATE SQLSTR;
EXCEPTION
  WHEN OTHERS THEN
    IF SQLCODE = -30041 THEN
      SQLSTR := 'SELECT COUNT(*) FROM USER_TABLESPACES
              WHERE TABLESPACE_NAME = ''MDR_COPKBI_TBS'' AND CONTENTS = ''TEMPORARY''';
      EXECUTE IMMEDIATE SQLSTR INTO TEMP_COUNT;
      IF TEMP_COUNT = 1 THEN RETURN;
      ELSE RAISE;
      END IF;
    ELSE
      RAISE;
    END IF;
END;
/
DECLARE
  TEMP_COUNT NUMBER;
  SQLSTR VARCHAR2(200);
BEGIN
  SQLSTR := 'ALTER USER "PKANIU" QUOTA UNLIMITED ON "COPK_STG_TS_2022"';
  EXECUTE IMMEDIATE SQLSTR;
EXCEPTION
  WHEN OTHERS THEN
    IF SQLCODE = -30041 THEN
      SQLSTR := 'SELECT COUNT(*) FROM USER_TABLESPACES
              WHERE TABLESPACE_NAME = ''COPK_STG_TS_2022'' AND CONTENTS = ''TEMPORARY''';
      EXECUTE IMMEDIATE SQLSTR INTO TEMP_COUNT;
      IF TEMP_COUNT = 1 THEN RETURN;
      ELSE RAISE;
      END IF;
    ELSE
      RAISE;
    END IF;
END;
/
DECLARE
  TEMP_COUNT NUMBER;
  SQLSTR VARCHAR2(200);
BEGIN
  SQLSTR := 'ALTER USER "PKANIU" QUOTA UNLIMITED ON "USERS"';
  EXECUTE IMMEDIATE SQLSTR;
EXCEPTION
  WHEN OTHERS THEN
    IF SQLCODE = -30041 THEN
      SQLSTR := 'SELECT COUNT(*) FROM USER_TABLESPACES
              WHERE TABLESPACE_NAME = ''USERS'' AND CONTENTS = ''TEMPORARY''';
      EXECUTE IMMEDIATE SQLSTR INTO TEMP_COUNT;
      IF TEMP_COUNT = 1 THEN RETURN;
      ELSE RAISE;
      END IF;
    ELSE
      RAISE;
    END IF;
END;
/


   GRANT "CONNECT" TO "PKANIU";
   GRANT "BI_IT_USERS_VIEW_ROLE" TO "PKANIU";
   GRANT "COOP_DMD_ROLE" TO "PKANIU";
   GRANT "COOP_STG_ROLE" TO "PKANIU";
   GRANT "COPBI_DEVELOPER_ROLE" TO "PKANIU";
   GRANT "COOP_ODS_ROLE" TO "PKANIU";
   GRANT "COOP_EDW_ROLE" TO "PKANIU";


  GRANT MANAGE SCHEDULER TO "PKANIU";
  GRANT EXECUTE ANY PROGRAM TO "PKANIU";
  GRANT CREATE ANY JOB TO "PKANIU";
  GRANT DROP ANY MATERIALIZED VIEW TO "PKANIU";
  GRANT EXECUTE ANY PROCEDURE TO "PKANIU";
  GRANT CREATE ANY TABLE TO "PKANIU";


  GRANT EXECUTE ON "SYS"."DBMS_SCHEDULER" TO "PKANIU";
  GRANT EXECUTE ON "SYS"."SYS_PLSQL_DA3FBA35_644_1" TO "PKANIU" WITH GRANT OPTION;
  GRANT EXECUTE ON "COOP_STG"."PKG_LOAD" TO "PKANIU";
  TIBCOUSER "COOP_ODS"."PKG_ODS_LOAD" TO "PKANIU";
  GRANT EXECUTE ON "COOP_STG"."CREATE_BSHEET_DEPT_DATAGENERIC" TO "PKANIU";
  GRANT EXECUTE ON "COOP_STG"."ETL_ACNT_NOMINAL_CODES_UPDATE" TO "PKANIU";
  GRANT SELECT ON "BPER"."PRODUCT" TO "PKANIU";
  GRANT SELECT ON "COOP_ODS"."COOP_PRODUCT_HOLDING" TO "PKANIU";
  GRANT SELECT ON "COOP_ODS"."BPER_PRODUCT_CATEGORY" TO "PKANIU";
  GRANT EXECUTE ON "COOP_DMD"."SYS_PLSQL_6C66C0E8_131_1" TO "PKANIU" WITH GRANT OPTION;


   ALTER USER "PKANIU" DEFAULT ROLE ALL;

PKANIU

CREATE PROFILE "END_USERS"
    LIMIT
         COMPOSITE_LIMIT DEFAULT
         SESSIONS_PER_USER 10
         CPU_PER_SESSION DEFAULT
         CPU_PER_CALL DEFAULT
         LOGICAL_READS_PER_SESSION DEFAULT
         LOGICAL_READS_PER_CALL DEFAULT
         IDLE_TIME 15
         CONNECT_TIME DEFAULT
         PRIVATE_SGA DEFAULT
         FAILED_LOGIN_ATTEMPTS 3
         PASSWORD_LIFE_TIME 5184000/86400
         PASSWORD_REUSE_TIME 31536000/86400
         PASSWORD_REUSE_MAX 3
         PASSWORD_VERIFY_FUNCTION "ORA12C_STRONG_VERIFY_FUNCTION"
         PASSWORD_LOCK_TIME 259200/86400
         PASSWORD_GRACE_TIME 604800/86400 ;
PKANIU




--------------------
  DECLARE
  TEMP_COUNT NUMBER;
  SQLSTR VARCHAR2(200);
BEGIN
  SQLSTR := 'ALTER USER "PKANIU" QUOTA UNLIMITED ON "USERS"';
  EXECUTE IMMEDIATE SQLSTR;
EXCEPTION
  WHEN OTHERS THEN
    IF SQLCODE = -30041 THEN
      SQLSTR := 'SELECT COUNT(*) FROM USER_TABLESPACES
              WHERE TABLESPACE_NAME = ''USERS'' AND CONTENTS = ''TEMPORARY''';
      EXECUTE IMMEDIATE SQLSTR INTO TEMP_COUNT;
      IF TEMP_COUNT = 1 THEN RETURN;
      ELSE RAISE;
      END IF;
    ELSE
      RAISE;
    END IF;
END;
/


   GRANT "CONNECT" TO "PKANIU";
   GRANT "COOP_DMD_ROLE" TO "PKANIU";
   GRANT "COOP_EDW_ROLE" TO "PKANIU";
   GRANT "COOP_ODS_ROLE" TO "PKANIU";
   GRANT "COOP_STG_ROLE" TO "PKANIU";
   GRANT "COPBI_DEVELOPER_ROLE" TO "PKANIU";


  GRANT MANAGE SCHEDULER TO "PKANIU";
  GRANT EXECUTE ANY PROGRAM TO "PKANIU";
  GRANT CREATE ANY JOB TO "PKANIU";
  GRANT DROP ANY MATERIALIZED VIEW TO "PKANIU";
  GRANT EXECUTE ANY PROCEDURE TO "PKANIU";
  GRANT CREATE VIEW TO "PKANIU";
  GRANT UNLIMITED TABLESPACE TO "PKANIU";


  GRANT EXECUTE ON "SYS"."DBMS_SCHEDULER" TO "PKANIU";
  GRANT EXECUTE ON "COOP_STG"."CREATE_BSHEET_DEPT_DATAGENERIC" TO "PKANIU";
  GRANT EXECUTE ON "COOP_STG"."ETL_ACNT_NOMINAL_CODES_UPDATE" TO "PKANIU";
  GRANT EXECUTE ON "COOP_STG"."PKG_LOAD" TO "PKANIU";
  GRANT SELECT ON "COOP_ODS"."COOP_PRODUCT_HOLDING" TO "PKANIU";
  GRANT SELECT ON "BPER"."PRODUCT" TO "PKANIU";


   ALTER USER "PKANIU" DEFAULT ROLE ALL;
